<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="msvalidate.01" content="F7959A0570D0607B4121B537616DDEAB"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="keywords" content="C Tutorial, Command Line Arguments, Linux, *argv, argv, arguments"><meta name="description" content="When executing the program, you can pass values to the C program from the command line. These values are called command line arguments..."><title>C Tutorial -- Command Line ArgumentsTheodore Cooper's Blog</title><link href="/css/fontisto/fontisto.min.css" rel="stylesheet"><link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link href="http://fonts.googleapis.com/css?family=Raleway:100,200,300,400" rel="stylesheet"><script src="/dist/lib/modernizr.touch.js"></script><link href="/dist/mfb.css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DZQ9LW0MKP"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DZQ9LW0MKP")</script><script>!function(t,e,n,c,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/4dyudg5g3l",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Theodore Cooper's Blog" type="application/atom+xml"></head><body id="bodyx"><ul id="menu" class="mfb-component--br mfb-slidein-spring" data-mfb-toggle="click"><li class="mfb-component__wrap"><a class="mfb-component__button--main"><i class="mfb-component__main-icon--resting fi fi-plus-a"></i> <i class="mfb-component__main-icon--active fi fi-close-a"></i></a><ul class="mfb-component__list"><li><a href="https://theodorecooper.github.io/atom.xml" data-mfb-label="RSS" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-rss"></i></a></li><li><a href="https://theodorecooper.github.io/tags" data-mfb-label="View the tags" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-hashtag"></i></a></li><li><a href="https://theodorecooper.github.io/Github" data-mfb-label="Follow me on Github" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-github"></i></a></li><li><a href="https://theodorecooper.github.io/Twitter" data-mfb-label="Follow me on Twitter" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-twitter"></i></a></li></ul></li></ul><script src="/dist/mfb.js"></script><div class="hd posts"><a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a><div class="post-title"><p>C Tutorial -- Command Line Arguments</p><hr></div><div class="post-content"><h1><span id="c-tutorial-command-line-arguments"><center>C Tutorial – Command Line Arguments</center></span></h1><p><img src="c.png" alt="C"></p><hr><h2><span id="what-is-command-line-arguments">What is Command Line Arguments</span></h2><p>​ When executing the program, you can pass values to the C program from the command line. These values are called command line arguments, and they are important to the program, especially when you want to control the program from the outside, rather than hard-coding these values in the code. Even all the program in Linux will provide command line arguments.</p><h2><span id="use-command-line-arguments">Use Command Line Arguments</span></h2><p>​ Command line arguments are handled using <code>main()</code> function arguments, where <code>argc</code> refers to the number of arguments passed in, and <code>argv[]</code> is an pointer array which point to each argument passed to the program. The following is a simple example:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[] )</span>  </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>( argc == <span class="number">2</span> )</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;The argument supplied is %s\n&quot;</span>, argv[<span class="number">1</span>]);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span>( argc &gt; <span class="number">2</span> )</span><br><span class="line">   &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;Too many arguments.\n&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;No argument.\n&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​ It produces the following result:</p><ul><li>No argument</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">./a.out</span></span><br><span class="line">No argument.</span><br></pre></td></tr></table></figure><ul><li>Single argument</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">./a.out aaarrrggg</span></span><br><span class="line">The argument supplied is aaarrrggg</span><br></pre></td></tr></table></figure><ul><li>Two arguments &amp; Above</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">./a.out arg1 arg2</span></span><br><span class="line">Too many arguments.</span><br></pre></td></tr></table></figure><h2><span id="explanation-argv0-argv1">Explanation — <code>argv[0]</code>, <code>argv[1]</code>…</span></h2><p>​ You should know that <code>argv[0]</code> holds the name of the program itself and <code>argv[1]</code> is a pointer to the first command line argument supplied, and *argv[n] is the last argument. If no arguments are supplied, <code>argc</code> will be 1, and if you pass one argument then <code>argc</code> is set at 2.</p><p>​ You pass all the command line arguments separated by a space, but if argument itself has a space then you can pass such arguments by putting them inside double quotes <code>&quot; &quot;</code> or single quotes <code>&#39; &#39;</code>. So, let’s try this:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">./a.out <span class="string">&quot;arg1 arg2&quot;</span></span></span><br><span class="line">The argument supplied is aaarrrggg</span><br></pre></td></tr></table></figure><h2><span id="getopt-amp-getopt_long">getopt() &amp; getopt_long()</span></h2><p>​ In Linux, we can use <code>getopt()</code> and <code>getopt_long()</code> to pass arguments:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">include&lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">    char *optstr = &quot;p:n:m:c:&quot;;</span><br><span class="line">    struct option opts[] = &#123;</span><br><span class="line">        &#123;&quot;path&quot;, 1, NULL, &#x27;p&#x27;&#125;,</span><br><span class="line">        &#123;&quot;name&quot;, 1, NULL, &#x27;n&#x27;&#125;,</span><br><span class="line">        &#123;&quot;mtime&quot;, 1, NULL, &#x27;m&#x27;&#125;,</span><br><span class="line">        &#123;&quot;ctime&quot;, 1, NULL, &#x27;c&#x27;&#125;,</span><br><span class="line">        &#123;0, 0, 0, 0&#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    int opt;</span><br><span class="line">    while((opt = getopt_long(argc, argv, optstr, opts, NULL)) != -1)&#123;</span><br><span class="line">        switch(opt) &#123;</span><br><span class="line">            case &#x27;p&#x27;:</span><br><span class="line">                strcpy(path, optarg);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;n&#x27;:</span><br><span class="line">                strcpy(targetname, optarg);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;m&#x27;:</span><br><span class="line">                modifiedtime = atoi(optarg);</span><br><span class="line">                break;</span><br><span class="line">            case &#x27;c&#x27;:</span><br><span class="line">                changetime = atoi(optarg);</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                if(strchr(optstr, optopt) == NULL)&#123;</span><br><span class="line">                    fprintf(stderr, &quot;unknown option &#x27;-%c&#x27;\n&quot;, optopt);</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    fprintf(stderr, &quot;option requires an argument &#x27;-%c&#x27;\n&quot;, optopt);</span><br><span class="line">                &#125;</span><br><span class="line">                return 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    findInDir(path);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>—————<br><b>Author</b>：Theodore Cooper<br><b>Address</b>： <a href="https://theodorecooper.github.io/2020/C-Tutorial-arg/">https://theodorecooper.github.io/2020/C-Tutorial-arg/</a><br><b>Copyright</b>：Copyright © 2020 Theodore Cooper. All rights reserved.<br>—————<br></p></div><div id="disqus_thread" style="display:none"></div><script>var disqus_config=function(){this.page.url=PAGE_URL,this.page.identifier=PAGE_IDENTIFIER};!function(){var e=document,t=e.createElement("script");t.src="https://ccooperr.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script src="/js/crash_cheat.js"></script><div class="footer" id="footer"><p>Copyright © 2020 <a class="flink" rel="external nofollow noopener" target="_blank" href="https://hexo.io">Hexo</a>-<a class="flink" rel="external nofollow noopener" target="_blank" href="https://github.com/theodorecooper">Theodore Cooper</a>. All rights reserved. <label class="el-switch el-switch-green el-switch-sm" style="vertical-align:sub"><input type="checkbox" name="switch" id="update_style"> <span class="el-switch-style"></span></label></p></div><script src="/libs/jquery.min.js"></script><script src="/libs/highlight/highlight.pack.js"></script><script src="/js/js.js"></script><style>.v *{color:#698fca}.v .vlist .vcard .vhead .vsys{color:#0c243d}.v .vlist .vcard .vh .vmeta .vat{color:#638fd5}.v .vlist .vcard .vhead .vnick{color:#6ba1ff}.v a{color:#8696b1}.v .vlist .vcard .vhead .vnick:hover{color:#669bfc}</style><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{scale:1,hHeadPos:.5,vHeadPos:.618,jsonPath:"/live2dw/assets/tororo.model.json"},display:{superSample:2,width:200,height:400,position:"left",hOffset:0,vOffset:-50},mobile:{show:!1,scale:.5},react:{opacityDefault:.7,opacityOnHover:.2},log:!1})</script></body></html>