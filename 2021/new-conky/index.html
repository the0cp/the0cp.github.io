<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="msvalidate.01" content="F7959A0570D0607B4121B537616DDEAB"><meta name="renderer" content="webkit"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="keywords" content="conky, syntax, newest, update"><meta name="description" content="Conky has changed its syntax, and new configure file should be written."><title>Syntax Error | Conky syntax update # Theodore Cooper's Blog</title><script src="/sweetalert2/dist/sweetalert2.all.min.js"></script><script src="/promise-polyfill/dist/polyfill.js"></script><link rel="stylesheet" href="/sweetalert2/dist/sweetalert2.min.css"><link href="/css/fontisto/fontisto.min.css" rel="stylesheet"><link rel="stylesheet" href="/libs/highlight/styles/androidstudio.css"><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link href="http://fonts.googleapis.com/css?family=Raleway:100,200,300,400" rel="stylesheet"><script src="/dist/lib/modernizr.touch.js"></script><link href="/dist/mfb.css" rel="stylesheet"><script async src="https://www.googletagmanager.com/gtag/js?id=G-DZQ9LW0MKP"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DZQ9LW0MKP")</script><script>!function(t,e,n,c,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/4dyudg5g3l",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Theodore Cooper's Blog" type="application/atom+xml"></head><body id="bodyx"><ul id="menu" class="mfb-component--br mfb-slidein-spring" data-mfb-toggle="hover"><li class="mfb-component__wrap"><a class="mfb-component__button--main"><i class="mfb-component__main-icon--resting fi fi-plus-a"></i> <i class="mfb-component__main-icon--active fi fi-close-a"></i></a><ul class="mfb-component__list"><li><a href="https://theodorecooper.github.io/atom.xml" data-mfb-label="RSS" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-rss"></i></a></li><li><a href="https://theodorecooper.github.io/tags" data-mfb-label="View the tags" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-hashtag"></i></a></li><li><a href="https://theodorecooper.github.io/Github" data-mfb-label="Follow me on Github" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-github"></i></a></li><li><a href="https://theodorecooper.github.io/Twitter" data-mfb-label="Follow me on Twitter" class="mfb-component__button--child" target="_blank"><i class="mfb-component__child-icon fi fi-twitter"></i></a></li><li><a href="javascrip:void(0)" onclick="donate()" data-mfb-label="Buy me a cup of coffee!" class="mfb-component__button--child" target="_self"><i class="mfb-component__child-icon fi fi-bitcoin"></i></a></li></ul></li></ul><script src="/dist/mfb.js"></script><script>var donate=function(){Swal.fire({title:"Donate",html:"❤Buy me a cup of coffee!!! <br><br>zpub6maNAHkLN2gfztxLDnKVjJASMk1Ra5DgdF2yGSTov7VXUn3Eijusyye89aKSwZWxrRas4QJnVtwXKEzdpKhTMSgiXF9RuK6AMm6w3V4jnMr",imageUrl:"/btcqrcode.png",imageWidth:205,imageHeight:205,imageAlt:"Bitcoin Donate",animation:!0,footer:"<b>❤Thank you for donation!!!</b>"})}</script><div class="hd posts"><a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a><div class="post-title"><p>Syntax Error | Conky syntax update</p><hr></div><div class="post-content"><h1><span id="syntax-error-conky-syntax-update"><center>Syntax Error | Conky syntax update</center></span></h1><hr><h2><span id="featuresgithub">Features(Github)</span></h2><p>Conky can display more than 300 built-in objects, including support for:</p><ul><li>A plethora of OS stats (uname, uptime, <strong>CPU usage</strong>, <strong>mem usage</strong>, disk usage, <strong>“top”</strong> like process stats, and <strong>network monitoring</strong>, just to name a few).</li><li>Built-in <strong>IMAP</strong> and <strong>POP3</strong> support.</li><li>Built-in support for many popular music players (<a target="_blank" rel="noopener" href="https://musicpd.org/">MPD</a>, <a target="_blank" rel="noopener" href="https://github.com/xmms2/wiki/wiki">XMMS2</a>, <a target="_blank" rel="noopener" href="https://audacious-media-player.org/">Audacious</a>).</li><li>Can be extended using built-in <a target="_blank" rel="noopener" href="https://github.com/brndnmtthws/conky/blob/main/lua"><strong>Lua</strong></a> support, or any of your own scripts and programs (<a target="_blank" rel="noopener" href="https://github.com/brndnmtthws/conky/wiki#tutorial">more</a>).</li><li>Built-in <a target="_blank" rel="noopener" href="https://docs.enlightenment.org/api/imlib2/html/"><strong>Imlib2</strong></a> and <a target="_blank" rel="noopener" href="https://www.cairographics.org/"><strong>Cairo</strong></a> bindings for arbitrary drawing with Lua (<a target="_blank" rel="noopener" href="https://github.com/brndnmtthws/conky/wiki/Lua">more</a>).</li><li>Runs on Linux, FreeBSD, OpenBSD, DragonFlyBSD, NetBSD, Solaris, Haiku, and macOS!</li></ul><p>… and much much more.</p><p>Conky can display information either as text, or using simple progress bars and graph widgets, with different fonts and colours.</p><h2><span id="syntax">Syntax</span></h2><p>​ After upgrade the whole system, I found conky doesn’t work well, the terminal pops out <code>syntax error</code> when running <code>conky</code>. Yes, the syntax changed, I have to rewrite the <code>.conkyrc</code>.</p><p>​ Before updating, conky’s syntax is easy, very easy to understand, now, it’s more like… eh… TOML? I don’t know, but as a programmer, a geek, the new syntax seems better to adapt to.</p><p>​ So, let’s take a look at the newest demos:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">--[[</span><br><span class="line">Conky, a system monitor, based on torsmo</span><br><span class="line"></span><br><span class="line">Any original torsmo code is licensed under the BSD license</span><br><span class="line"></span><br><span class="line">All code written since the fork of torsmo is licensed under the GPL</span><br><span class="line"></span><br><span class="line">Please see COPYING for details</span><br><span class="line"></span><br><span class="line">Copyright (c) 2004, Hannu Saransaari and Lauri Hakkarainen</span><br><span class="line">Copyright (c) 2005-2019 Brenden Matthews, Philip Kovacs, et. al. (see AUTHORS)</span><br><span class="line">All rights reserved.</span><br><span class="line"></span><br><span class="line">This program is free software: you can redistribute it and/or modify</span><br><span class="line">it under the terms of the GNU General Public License as published by</span><br><span class="line">the Free Software Foundation, either version 3 of the License, or</span><br><span class="line">(at your option) any later version.</span><br><span class="line"></span><br><span class="line">This program is distributed in the hope that it will be useful,</span><br><span class="line">but WITHOUT ANY WARRANTY; without even the implied warranty of</span><br><span class="line">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span><br><span class="line">GNU General Public License for more details.</span><br><span class="line">You should have received a copy of the GNU General Public License</span><br><span class="line">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span><br><span class="line">]]</span><br><span class="line"></span><br><span class="line">conky.config = &#123;</span><br><span class="line">    alignment = &#x27;top_left&#x27;,</span><br><span class="line">    background = false,</span><br><span class="line">    border_width = 1,</span><br><span class="line">    cpu_avg_samples = 2,</span><br><span class="line">    default_color = &#x27;white&#x27;,</span><br><span class="line">    default_outline_color = &#x27;white&#x27;,</span><br><span class="line">    default_shade_color = &#x27;white&#x27;,</span><br><span class="line">    double_buffer = true,</span><br><span class="line">    draw_borders = false,</span><br><span class="line">    draw_graph_borders = true,</span><br><span class="line">    draw_outline = false,</span><br><span class="line">    draw_shades = false,</span><br><span class="line">    extra_newline = false,</span><br><span class="line">    font = &#x27;DejaVu Sans Mono:size=12&#x27;,</span><br><span class="line">    gap_x = 60,</span><br><span class="line">    gap_y = 60,</span><br><span class="line">    minimum_height = 5,</span><br><span class="line">    minimum_width = 5,</span><br><span class="line">    net_avg_samples = 2,</span><br><span class="line">    no_buffers = true,</span><br><span class="line">    out_to_console = false,</span><br><span class="line">    out_to_ncurses = false,</span><br><span class="line">    out_to_stderr = false,</span><br><span class="line">    out_to_x = true,</span><br><span class="line">    own_window = true,</span><br><span class="line">    own_window_class = &#x27;Conky&#x27;,</span><br><span class="line">    own_window_type = &#x27;desktop&#x27;,</span><br><span class="line">    show_graph_range = false,</span><br><span class="line">    show_graph_scale = false,</span><br><span class="line">    stippled_borders = 0,</span><br><span class="line">    update_interval = 1.0,</span><br><span class="line">    uppercase = false,</span><br><span class="line">    use_spacer = &#x27;none&#x27;,</span><br><span class="line">    use_xft = true,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">conky.text = [[</span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Info:<span class="variable">$color</span> <span class="variable">$&#123;scroll 32 Conky $conky_version - $sysname $nodename $kernel $machine&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">hr</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Uptime:<span class="variable">$color</span> <span class="variable">$uptime</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Frequency (<span class="keyword">in</span> MHz):<span class="variable">$color</span> <span class="variable">$freq</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Frequency (<span class="keyword">in</span> GHz):<span class="variable">$color</span> <span class="variable">$freq_g</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;RAM Usage:<span class="variable">$color</span> <span class="variable">$mem</span>/<span class="variable">$memmax</span> - <span class="variable">$memperc</span>% <span class="variable">$&#123;membar 4&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Swap Usage:<span class="variable">$color</span> <span class="variable">$swap</span>/<span class="variable">$swapmax</span> - <span class="variable">$swapperc</span>% <span class="variable">$&#123;swapbar 4&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;CPU Usage:<span class="variable">$color</span> <span class="variable">$cpu</span>% <span class="variable">$&#123;cpubar 4&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Processes:<span class="variable">$color</span> <span class="variable">$processes</span>  <span class="variable">$&#123;color grey&#125;</span>Running:<span class="variable">$color</span> <span class="variable">$running_processes</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">hr</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;File systems:</span></span><br><span class="line"> / $color$&#123;fs_used /&#125;/$&#123;fs_size /&#125; $&#123;fs_bar 6 /&#125;</span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Networking:</span></span><br><span class="line">Up:$color $&#123;upspeed&#125; $&#123;color grey&#125; - Down:$color $&#123;downspeed&#125;</span><br><span class="line"><span class="meta">$</span><span class="bash">hr</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color grey&#125;Name              PID     CPU%   MEM%</span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color lightgrey&#125; <span class="variable">$&#123;top name 1&#125;</span> <span class="variable">$&#123;top pid 1&#125;</span> <span class="variable">$&#123;top cpu 1&#125;</span> <span class="variable">$&#123;top mem 1&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color lightgrey&#125; <span class="variable">$&#123;top name 2&#125;</span> <span class="variable">$&#123;top pid 2&#125;</span> <span class="variable">$&#123;top cpu 2&#125;</span> <span class="variable">$&#123;top mem 2&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color lightgrey&#125; <span class="variable">$&#123;top name 3&#125;</span> <span class="variable">$&#123;top pid 3&#125;</span> <span class="variable">$&#123;top cpu 3&#125;</span> <span class="variable">$&#123;top mem 3&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">&#123;color lightgrey&#125; <span class="variable">$&#123;top name 4&#125;</span> <span class="variable">$&#123;top pid 4&#125;</span> <span class="variable">$&#123;top cpu 4&#125;</span> <span class="variable">$&#123;top mem 4&#125;</span></span></span><br><span class="line">]]</span><br></pre></td></tr></table></figure><p>​ It looks like this:</p><p><img src="https://user-images.githubusercontent.com/852504/50325033-1089e480-04a8-11e9-8963-f64cb3d0003b.png" alt="Default configs"></p><p>​ Yes, inside the <code>--[[</code>and <code>]]</code> is the comments. <code>conky.config = &#123;</code> marks the beginning of the config part and <code>&#125;</code> means the end.</p><p>different types of variable such as “number”, characters(<code>&#39;char&#39;</code>), boolean(true &amp; false) will be assigned to the properties which is to the left of the equal sign, just like most program languages. Of course, inside <code>conky.text = [[</code> and <code>]]</code>, you could customize your conky’s appearance and looks, you don’t need to change a lot even though syntax updated.</p><h2><span id="my-conkyrc">My <code>.conkyrc</code></span></h2><p>​ It’s easy to update the own configure file, mine works well now: <a href="updated-conkyrc.zip">.conkyrc</a>. Screenshots goes here: <a href="https://theodorecooper.github.io/2021/conky/">Conky | Awesome system monitor for Linux</a>.</p><h2><span id="more-wiki">More – Wiki</span></h2><p>​ More options and tutorial here: <a target="_blank" rel="noopener" href="https://github.com/brndnmtthws/conky/wiki/">Conky Wiki(Github)</a>.</p><p>—————<br><b>Author</b>：Theodore Cooper<br><b>Address</b>： <a href="https://theodorecooper.github.io/2021/new-conky/">https://theodorecooper.github.io/2021/new-conky/</a><br><b>Copyright</b>：Copyright © 2020 Theodore Cooper. All rights reserved.<br>—————<br></p></div><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url=PAGE_URL,this.page.identifier=PAGE_IDENTIFIER};!function(){var e=document,t=e.createElement("script");t.src="https://ccooperr.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script src="/js/crash_cheat.js"></script><div class="footer" id="footer"><p>Copyright © 2020 <a class="flink" rel="external nofollow noopener" target="_blank" href="https://hexo.io">Hexo</a>-<a class="flink" rel="external nofollow noopener" target="_blank" href="https://github.com/theodorecooper">Theodore Cooper</a>. All rights reserved. <label class="el-switch el-switch-green el-switch-sm" style="vertical-align:sub"><input type="checkbox" name="switch" id="update_style"> <span class="el-switch-style"></span></label></p></div><script src="/libs/jquery.min.js"></script><script src="/libs/highlight/highlight.pack.js"></script><script src="/js/js.js"></script><style>.v *{color:#698fca}.v .vlist .vcard .vhead .vsys{color:#0c243d}.v .vlist .vcard .vh .vmeta .vat{color:#638fd5}.v .vlist .vcard .vhead .vnick{color:#6ba1ff}.v a{color:#8696b1}.v .vlist .vcard .vhead .vnick:hover{color:#669bfc}</style></body></html>