import{swalClasses,iconTypes}from"../../classes.js";import{error}from"../../utils.js";import*as dom from"../../dom/index.js";import privateProps from"../../../privateProps.js";export const renderIcon=(s,o)=>{const n=privateProps.innerParams.get(s);if(n&&o.icon===n.icon&&dom.getIcon())applyStyles(dom.getIcon(),o);else if(hideAllIcons(),o.icon)if(-1!==Object.keys(iconTypes).indexOf(o.icon)){const s=dom.elementBySelector(`.${swalClasses.icon}.${iconTypes[o.icon]}`);dom.show(s),setContent(s,o),applyStyles(s,o),dom.addClass(s,o.showClass.icon)}else error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${o.icon}"`)};const hideAllIcons=()=>{const s=dom.getIcons();for(let o=0;o<s.length;o++)dom.hide(s[o])},applyStyles=(s,o)=>{setColor(s,o),adjustSuccessIconBackgoundColor(),dom.applyCustomClass(s,o,"icon")},adjustSuccessIconBackgoundColor=()=>{const s=dom.getPopup(),o=window.getComputedStyle(s).getPropertyValue("background-color"),n=s.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let s=0;s<n.length;s++)n[s].style.backgroundColor=o},setContent=(s,o)=>{if(s.textContent="",o.iconHtml)dom.setInnerHtml(s,iconContent(o.iconHtml));else if("success"===o.icon)dom.setInnerHtml(s,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ');else if("error"===o.icon)dom.setInnerHtml(s,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ');else{const n={question:"?",warning:"!",info:"i"};dom.setInnerHtml(s,iconContent(n[o.icon]))}},setColor=(s,o)=>{if(o.iconColor){s.style.color=o.iconColor,s.style.borderColor=o.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dom.setStyle(s,n,"backgroundColor",o.iconColor);dom.setStyle(s,".swal2-success-ring","borderColor",o.iconColor)}},iconContent=s=>`<div class="${swalClasses["icon-content"]}">${s}</div>`;